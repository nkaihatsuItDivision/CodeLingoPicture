<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Â≠¶ÁîüÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÅÆÂÆåÊàêERÂõ≥</title>
    <style>
          :root{
    --bg1:#f8fafc;--bg2:#eef2ff;--panel:#ffffff;--ink:#111827;
    --primary:#2563eb;--edge:#0f172a;--label:#b45309;
  }
  html,body{margin:0;padding:0;background:linear-gradient(135deg,var(--bg1),var(--bg2));color:var(--ink);
    font-family:"Segoe UI",system-ui,-apple-system,"Hiragino Kaku Gothic ProN","Noto Sans JP",sans-serif;}
  .wrap{max-width:1200px;margin:0 auto;padding:24px;}
  header{background:linear-gradient(135deg,#111827,#374151);color:#fff;padding:22px;border-radius:16px;
    box-shadow:0 18px 36px rgba(0,0,0,.15)}
  header h1{margin:0 0 6px 0;font-size:clamp(18px,2.2vw,26px);font-weight:700}
  header p{margin:0;color:#d1d5db;font-size:13px}
  .canvas{margin-top:16px;background:var(--panel);border-radius:16px;padding:16px;box-shadow:0 14px 28px rgba(0,0,0,.08)}
  .legend{margin-top:12px;background:var(--panel);border-radius:16px;padding:16px;box-shadow:0 10px 20px rgba(0,0,0,.06)}
  .legend h2{margin:0 0 8px 0;font-size:16px;border-left:6px solid var(--primary);padding-left:10px}
  .legend ul{margin:0;padding-left:18px;display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:6px 14px}
  .hint{margin-top:8px;color:#6b7280;font-size:12px}
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #fd79a8 0%, #fdcb6e 100%);
            min-height: 100vh;
        }
        .container {
            max-width: 1600px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #2d3436 0%, #636e72 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        .header h1 {
            margin: 0;
            font-size: 2.2em;
            font-weight: 600;
        }
        .er-workspace {
            padding: 40px;
            position: relative;
            min-height: 800px;
        }
        .entity {
            position: absolute;
            background: #e8f4ff;
            border: 3px solid #74b9ff;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }
        .entity:hover {
            transform: scale(1.05);
            z-index: 10;
        }
        .entity-title {
            font-size: 1.4em;
            font-weight: bold;
            color: #0984e3;
            text-align: center;
            border-bottom: 2px solid #74b9ff;
            padding-bottom: 10px;
            margin-bottom: 15px;
        }
        .attributes {
            font-size: 1em;
            line-height: 1.8;
        }
        .pk {
            text-decoration: underline;
            font-weight: bold;
            color: #2d3436;
        }
        .fk {
            font-style: italic;
            color: #636e72;
        }
        .not-null {
            color: #e17055;
            font-weight: 500;
        }
        
        /* „Ç®„É≥„ÉÜ„Ç£„ÉÜ„Ç£„ÅÆÈÖçÁΩÆ */
        .department-entity {
            top: 50px;
            left: 50px;
            width: 200px;
        }
        .student-entity {
            top: 50px;
            left: 350px;
            width: 220px;
        }
        .subject-entity {
            top: 50px;
            right: 50px;
            width: 200px;
        }
        .score-entity {
            top: 400px;
            left: 300px;
            width: 240px;
        }
        .enrollment-entity {
            bottom: 50px;
            left: 100px;
            width: 220px;
        }

        /* „É™„É¨„Éº„Ç∑„Éß„É≥„Ç∑„ÉÉ„Éó */
        .relationship {
            position: absolute;
            background: #fff3e0;
            border: 3px solid #fdcb6e;
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: bold;
            color: #e17055;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        .rel-dept-student {
            top: 120px;
            left: 275px;
        }
        .rel-dept-subject {
            top: 120px;
            right: 275px;
        }
        .rel-student-score {
            top: 320px;
            left: 380px;
        }
        .rel-subject-score {
            top: 320px;
            right: 380px;
        }
        .rel-student-enrollment {
            bottom: 200px;
            left: 250px;
        }

        /* Êé•Á∂öÁ∑ö */
        .connection {
            position: absolute;
            background: #636e72;
            z-index: 1;
        }
        .horizontal {
            height: 3px;
        }
        .vertical {
            width: 3px;
        }
        
        /* Â≠¶ÈÉ®-Â≠¶Áîü„ÅÆÁ∑ö */
        .line-dept-student {
            top: 117px;
            left: 250px;
            width: 125px;
        }
        
        /* Â≠¶ÈÉ®-ÁßëÁõÆ„ÅÆÁ∑ö */
        .line-dept-subject {
            top: 117px;
            right: 250px;
            width: 125px;
        }
        
        /* Â≠¶Áîü-ÊàêÁ∏æ„ÅÆÁ∑ö */
        .line-student-score1 {
            top: 250px;
            left: 460px;
            height: 90px;
        }
        .line-student-score2 {
            top: 337px;
            left: 400px;
            width: 63px;
        }
        
        /* ÁßëÁõÆ-ÊàêÁ∏æ„ÅÆÁ∑ö */
        .line-subject-score1 {
            top: 250px;
            right: 160px;
            height: 90px;
        }
        .line-subject-score2 {
            top: 337px;
            right: 400px;
            width: 63px;
        }
        
        /* Â≠¶Áîü-Â±•‰øÆ„ÅÆÁ∑ö */
        .line-student-enrollment1 {
            top: 250px;
            left: 380px;
            height: 180px;
        }
        .line-student-enrollment2 {
            bottom: 217px;
            left: 280px;
            width: 103px;
        }

        /* „Ç´„Éº„Éá„Ç£„Éä„É™„ÉÜ„Ç£ */
        .cardinality {
            position: absolute;
            font-weight: bold;
            color: #2d3436;
            background: white;
            padding: 2px 6px;
            border-radius: 4px;
            border: 1px solid #ddd;
            z-index: 5;
        }
        .card-dept-student-1 {
            top: 110px;
            left: 255px;
        }
        .card-dept-student-n {
            top: 110px;
            left: 320px;
        }
        .card-dept-subject-1 {
            top: 110px;
            right: 320px;
        }
        .card-dept-subject-n {
            top: 110px;
            right: 255px;
        }
        .card-student-score-1 {
            top: 255px;
            left: 455px;
        }
        .card-student-score-n {
            top: 340px;
            left: 365px;
        }
        .card-subject-score-1 {
            top: 255px;
            right: 155px;
        }
        .card-subject-score-n {
            top: 340px;
            right: 365px;
        }

        /* Ë™¨Êòé„Éë„Éç„É´ */
        .explanation {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 12px;
            padding: 30px;
            margin-top: 40px;
        }
        .explanation-title {
            font-size: 1.6em;
            font-weight: bold;
            color: #2d3436;
            text-align: center;
            margin-bottom: 25px;
        }
        .relationships-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }
        .relationship-item {
            background: white;
            border-radius: 8px;
            padding: 20px;
            border-left: 4px solid #fdcb6e;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        .relationship-title {
            font-weight: bold;
            color: #e17055;
            margin-bottom: 10px;
        }
        .relationship-desc {
            color: #636e72;
            line-height: 1.6;
        }
        .sql-mapping {
            background: linear-gradient(135deg, #00b894 0%, #00a085 100%);
            color: white;
            border-radius: 12px;
            padding: 30px;
            margin-top: 30px;
        }
        .sql-title {
            font-size: 1.6em;
            font-weight: bold;
            text-align: center;
            margin-bottom: 25px;
        }
        .sql-code {
            background: rgba(255,255,255,0.1);
            border-radius: 8px;
            padding: 20px;
            font-family: 'Courier New', monospace;
            font-size: 0.95em;
            line-height: 1.6;
            overflow-x: auto;
        }
        .highlight {
            background: rgba(255,255,255,0.2);
            padding: 2px 4px;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéì Â≠¶ÁîüÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÅÆÂÆåÊàêERÂõ≥</h1>
        </div>
        
    <div class="canvas">
      <svg viewBox="0 0 1200 780" width="100%" height="auto" role="img" aria-label="Â≠¶ÁîüÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ERÂõ≥ Áõ¥Á∑öÁâà">
        <defs>
          <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
            <feDropShadow dx="0" dy="6" stdDeviation="6" flood-color="#000" flood-opacity="0.18"/>
          </filter>
          <linearGradient id="box" x1="0" x2="0" y1="0" y2="1">
            <stop offset="0" stop-color="#e0f2fe"/><stop offset="1" stop-color="#f0f9ff"/>
          </linearGradient>
          <marker id="dot" markerWidth="6" markerHeight="6" refX="3" refY="3">
            <circle cx="3" cy="3" r="2.5" fill="#0f172a"/>
          </marker>
          <style>
            .box{fill:url(#box);stroke:#60a5fa;stroke-width:2.5;rx:14;ry:14}
            .title{fill:#1d4ed8;font-weight:700;font-size:18px}
            .attr{fill:#111827;font-size:13px}
            .pk{text-decoration:underline;font-weight:700}
            .fk{font-style:italic;fill:#6b7280}
            .nn{fill:#ef4444;font-weight:600}
            .edge{fill:none;stroke:var(--edge);stroke-width:2.5;marker-start:url(#dot);marker-end:url(#dot)}
            .badge{fill:#fff7ed;stroke:#f59e0b;stroke-width:1.5;rx:10;ry:10}
            .edge-label{fill:#b45309;font-weight:700;font-size:12px}
            .card{fill:#111827;font-weight:800;font-size:12px}
            .divider{stroke:#93c5fd;stroke-width:1.5}
          </style>
        </defs>

        <!-- Layout coordinates (boxes) -->
        <!-- Department -->
        <g id="dept" transform="translate(70,80)" filter="url(#shadow)">
          <rect class="box" width="240" height="200"/>
          <text class="title" x="120" y="28" text-anchor="middle">Â≠¶ÈÉ®</text>
          <line class="divider" x1="12" x2="228" y1="44" y2="44"/>
          <g font-family="monospace">
            <text class="attr pk" x="18" y="70">Â≠¶ÈÉ®„Ç≥„Éº„Éâ</text>
            <text class="attr nn" x="18" y="95">Â≠¶ÈÉ®Âêç</text>
            <text class="attr" x="18" y="120">Âª∫Áâ©</text>
            <text class="attr" x="18" y="145">ÈõªË©±Áï™Âè∑</text>
            <text class="attr" x="18" y="170">Ë®≠Á´ãÂπ¥</text>
          </g>
        </g>

        <!-- Student -->
        <g id="stud" transform="translate(470,60)" filter="url(#shadow)">
          <rect class="box" width="260" height="230"/>
          <text class="title" x="130" y="28" text-anchor="middle">Â≠¶Áîü</text>
          <line class="divider" x1="12" x2="248" y1="44" y2="44"/>
          <g font-family="monospace">
            <text class="attr pk" x="18" y="70">Â≠¶ÁîüID</text>
            <text class="attr nn" x="18" y="95">ÂêçÂâç</text>
            <text class="attr nn" x="18" y="120">Âπ¥ÈΩ¢</text>
            <text class="attr" x="18" y="145">„É°„Éº„É´„Ç¢„Éâ„É¨„Çπ</text>
            <text class="attr nn" x="18" y="170">ÂÖ•Â≠¶Êó•</text>
            <text class="attr" x="18" y="195">„Çπ„ÉÜ„Éº„Çø„Çπ</text>
            <text class="attr fk" x="18" y="220">Â≠¶ÈÉ®„Ç≥„Éº„Éâ(FK)</text>
          </g>
        </g>

        <!-- Subject -->
        <g id="subj" transform="translate(870,80)" filter="url(#shadow)">
          <rect class="box" width="240" height="210"/>
          <text class="title" x="120" y="28" text-anchor="middle">ÁßëÁõÆ</text>
          <line class="divider" x1="12" x2="228" y1="44" y2="44"/>
          <g font-family="monospace">
            <text class="attr pk" x="18" y="70">ÁßëÁõÆ„Ç≥„Éº„Éâ</text>
            <text class="attr nn" x="18" y="95">ÁßëÁõÆÂêç</text>
            <text class="attr nn" x="18" y="120">Âçò‰ΩçÊï∞</text>
            <text class="attr" x="18" y="145">ÁßëÁõÆÁ®ÆÂà•</text>
            <text class="attr" x="18" y="170">ÂâçÊèêÁßëÁõÆ</text>
            <text class="attr fk" x="18" y="195">Â≠¶ÈÉ®„Ç≥„Éº„Éâ(FK)</text>
          </g>
        </g>

        <!-- Score -->
        <g id="score" transform="translate(740,420)" filter="url(#shadow)">
          <rect class="box" width="270" height="230"/>
          <text class="title" x="135" y="28" text-anchor="middle">ÊàêÁ∏æ</text>
          <line class="divider" x1="12" x2="258" y1="44" y2="44"/>
          <g font-family="monospace">
            <text class="attr pk" x="18" y="70">ÊàêÁ∏æID</text>
            <text class="attr fk nn" x="18" y="95">Â≠¶ÁîüID(FK)</text>
            <text class="attr fk nn" x="18" y="120">ÁßëÁõÆ„Ç≥„Éº„Éâ(FK)</text>
            <text class="attr nn" x="18" y="145">Â≠¶Âπ¥</text>
            <text class="attr nn" x="18" y="170">Â≠¶Êúü</text>
            <text class="attr" x="18" y="195">ÁÇπÊï∞</text>
            <text class="attr" x="18" y="220">Ë©ïÂÆö</text>
            <text class="attr" x="18" y="245">Ë©¶È®ìÊó•</text>
          </g>
        </g>

        <!-- Enrollment -->
        <g id="enroll" transform="translate(200,520)" filter="url(#shadow)">
          <rect class="box" width="280" height="210"/>
          <text class="title" x="140" y="28" text-anchor="middle">Â±•‰øÆ</text>
          <line class="divider" x1="12" x2="268" y1="44" y2="44"/>
          <g font-family="monospace">
            <text class="attr pk" x="18" y="70">Â±•‰øÆID</text>
            <text class="attr fk nn" x="18" y="95">Â≠¶ÁîüID(FK)</text>
            <text class="attr fk nn" x="18" y="120">ÁßëÁõÆ„Ç≥„Éº„Éâ(FK)</text>
            <text class="attr nn" x="18" y="145">Â±•‰øÆÊó•</text>
            <text class="attr" x="18" y="170">ÈÄÄÂ≠¶Êó•</text>
            <text class="attr" x="18" y="195">„Çπ„ÉÜ„Éº„Çø„Çπ</text>
          </g>
        </g>

        <!-- CONNECTIONS (orthogonal polylines with offsets to avoid overlaps) -->

        <!-- Dept -> Student (ÊâÄÂ±û) : straight horizontal -->
        <polyline class="edge" points="310,180 468,180"/>
        <g transform="translate(375,158)"><rect class="badge" width="56" height="22"/><text class="edge-label" x="28" y="15" text-anchor="middle">ÊâÄÂ±û</text></g>
        <text class="card" x="318" y="172">1</text>
        <text class="card" x="452" y="172">N</text>

        <!-- Dept -> Subject (ÈñãË®≠) : up, across, down (bus above boxes) -->
        <polyline class="edge" points="190,80 190,40 990,40 990,80"/>
        <g transform="translate(560,20)"><rect class="badge" width="56" height="22"/><text class="edge-label" x="28" y="15" text-anchor="middle">ÈñãË®≠</text></g>
        <text class="card" x="200" y="52">1</text>
        <text class="card" x="980" y="52">N</text>

        <!-- Student -> Score (ÂèñÂæó) : down-left, down, right (avoid Subject area) -->
        <polyline class="edge" points="600,290 600,330 600,370 740,370 740,420"/>
        <g transform="translate(610,340)"><rect class="badge" width="56" height="22"/><text class="edge-label" x="28" y="15" text-anchor="middle">ÂèñÂæó</text></g>
        <text class="card" x="607" y="304">1</text>
        <text class="card" x="748" y="414">N</text>

        <!-- Subject -> Score (Ë©ï‰æ°) : down, left to score top -->
        <polyline class="edge" points="990,290 990,360 1010,360 1010,420"/>
        <polyline class="edge" points="1010,420 1010,420 1010,420"/> <!-- anchor for markers -->
        <g transform="translate(995,330)"><rect class="badge" width="56" height="22"/><text class="edge-label" x="28" y="15" text-anchor="middle">Ë©ï‰æ°</text></g>
        <text class="card" x="998" y="304">1</text>
        <text class="card" x="1018" y="414">N</text>

        <!-- Student -> Enrollment (Â±•‰øÆ) : down, left, down to enrollment -->
        <polyline class="edge" points="520,290 520,360 340,360 340,520"/>
        <g transform="translate(430,336)"><rect class="badge" width="56" height="22"/><text class="edge-label" x="28" y="15" text-anchor="middle">Â±•‰øÆ</text></g>
        <text class="card" x="528" y="304">M</text>
        <text class="card" x="332" y="514">N</text>

      </svg>
    </div>

        <div class="explanation">
            <div class="explanation-title">üìã ERÂõ≥„ÅÆÈñ¢‰øÇÊÄßËß£Ë™¨</div>
            <div class="relationships-list">
                <div class="relationship-item">
                    <div class="relationship-title">üè´ Â≠¶ÈÉ® ‚Üê ÊâÄÂ±û ‚Üí Â≠¶Áîü (1:N)</div>
                    <div class="relationship-desc">
                        1„Å§„ÅÆÂ≠¶ÈÉ®„Å´Ë§áÊï∞„ÅÆÂ≠¶Áîü„ÅåÊâÄÂ±û„Åô„Çã„ÄÇ<br>
                        Â≠¶Áîü„ÅØÂøÖ„Åö1„Å§„ÅÆÂ≠¶ÈÉ®„Å´ÊâÄÂ±û„Åô„Çã„ÄÇ<br>
                        <strong>ÂÆüË£ÖÔºö</strong> Â≠¶Áîü„ÉÜ„Éº„Éñ„É´„Å´Â≠¶ÈÉ®„Ç≥„Éº„Éâ(FK)
                    </div>
                </div>
                <div class="relationship-item">
                    <div class="relationship-title">üè´ Â≠¶ÈÉ® ‚Üê ÈñãË®≠ ‚Üí ÁßëÁõÆ (1:N)</div>
                    <div class="relationship-desc">
                        1„Å§„ÅÆÂ≠¶ÈÉ®„ÅåË§áÊï∞„ÅÆÁßëÁõÆ„ÇíÈñãË®≠„Åô„Çã„ÄÇ<br>
                        ÁßëÁõÆ„ÅØÂøÖ„Åö1„Å§„ÅÆÂ≠¶ÈÉ®„ÅåÈñãË®≠„Åô„Çã„ÄÇ<br>
                        <strong>ÂÆüË£ÖÔºö</strong> ÁßëÁõÆ„ÉÜ„Éº„Éñ„É´„Å´Â≠¶ÈÉ®„Ç≥„Éº„Éâ(FK)
                    </div>
                </div>
                <div class="relationship-item">
                    <div class="relationship-title">üë®‚Äçüéì Â≠¶Áîü ‚Üê ÂèñÂæó ‚Üí ÊàêÁ∏æ (1:N)</div>
                    <div class="relationship-desc">
                        1‰∫∫„ÅÆÂ≠¶Áîü„ÅåË§áÊï∞„ÅÆÊàêÁ∏æ„ÇíÂèñÂæó„Åô„Çã„ÄÇ<br>
                        1„Å§„ÅÆÊàêÁ∏æ„ÅØ1‰∫∫„ÅÆÂ≠¶Áîü„Å´Â±û„Åô„Çã„ÄÇ<br>
                        <strong>ÂÆüË£ÖÔºö</strong> ÊàêÁ∏æ„ÉÜ„Éº„Éñ„É´„Å´Â≠¶ÁîüID(FK)
                    </div>
                </div>
                <div class="relationship-item">
                    <div class="relationship-title">üìö ÁßëÁõÆ ‚Üê Ë©ï‰æ° ‚Üí ÊàêÁ∏æ (1:N)</div>
                    <div class="relationship-desc">
                        1„Å§„ÅÆÁßëÁõÆ„Å´Ë§áÊï∞„ÅÆÊàêÁ∏æ„ÅåÂ≠òÂú®„Åô„Çã„ÄÇ<br>
                        1„Å§„ÅÆÊàêÁ∏æ„ÅØ1„Å§„ÅÆÁßëÁõÆ„Å´Â±û„Åô„Çã„ÄÇ<br>
                        <strong>ÂÆüË£ÖÔºö</strong> ÊàêÁ∏æ„ÉÜ„Éº„Éñ„É´„Å´ÁßëÁõÆ„Ç≥„Éº„Éâ(FK)
                    </div>
                </div>
                <div class="relationship-item">
                    <div class="relationship-title">üë®‚Äçüéì Â≠¶Áîü ‚Üê Â±•‰øÆ ‚Üí ÁßëÁõÆ (M:N)</div>
                    <div class="relationship-desc">
                        1‰∫∫„ÅÆÂ≠¶Áîü„ÅåË§áÊï∞„ÅÆÁßëÁõÆ„ÇíÂ±•‰øÆ„Åô„Çã„ÄÇ<br>
                        1„Å§„ÅÆÁßëÁõÆ„ÇíË§áÊï∞„ÅÆÂ≠¶Áîü„ÅåÂ±•‰øÆ„Åô„Çã„ÄÇ<br>
                        <strong>ÂÆüË£ÖÔºö</strong> Â±•‰øÆ„ÉÜ„Éº„Éñ„É´Ôºà‰∏≠Èñì„ÉÜ„Éº„Éñ„É´Ôºâ
                    </div>
                </div>
            </div>
        </div>

        <div class="sql-mapping">
            <div class="sql-title">üõ†Ô∏è Áâ©ÁêÜ„ÉÜ„Éº„Éñ„É´Ë®≠Ë®à„Å∏„ÅÆÂ§âÊèõ</div>
            <div class="sql-code">
-- ERÂõ≥„Å´Âü∫„Å•„ÅèÁâ©ÁêÜ„ÉÜ„Éº„Éñ„É´Ë®≠Ë®à<br>

<span class="highlight">-- Â≠¶ÈÉ®„ÉÜ„Éº„Éñ„É´ÔºàÁã¨Á´ã„Ç®„É≥„ÉÜ„Ç£„ÉÜ„Ç£Ôºâ</span><br>
CREATE TABLE department (<br>
    department_code VARCHAR(10) PRIMARY KEY,<br>
    department_name VARCHAR(100) NOT NULL UNIQUE,<br>
    building VARCHAR(50),<br>
    phone VARCHAR(20),<br>
    established_year INT<br>
);<br>

<span class="highlight">-- Â≠¶Áîü„ÉÜ„Éº„Éñ„É´ÔºàÂ≠¶ÈÉ®„Å∏„ÅÆÂ§ñÈÉ®„Ç≠„ÉºÂèÇÁÖßÔºâ</span><br>
CREATE TABLE student (<br>
    student_id VARCHAR(10) PRIMARY KEY,<br>
    name VARCHAR(100) NOT NULL,<br>
    age INT NOT NULL CHECK (age >= 15 AND age <= 100),<br>
    email VARCHAR(255) UNIQUE,<br>
    enrollment_date DATE NOT NULL,<br>
    status ENUM('active', 'inactive', 'graduated') DEFAULT 'active',<br>
    department_code VARCHAR(10) NOT NULL,<br>
    FOREIGN KEY (department_code) REFERENCES department(department_code)<br>
);<br>

<span class="highlight">-- ÁßëÁõÆ„ÉÜ„Éº„Éñ„É´ÔºàÂ≠¶ÈÉ®„Å∏„ÅÆÂ§ñÈÉ®„Ç≠„ÉºÂèÇÁÖß„ÄÅËá™Â∑±ÂèÇÁÖßÔºâ</span><br>
CREATE TABLE subject (<br>
    subject_code VARCHAR(10) PRIMARY KEY,<br>
    subject_name VARCHAR(100) NOT NULL,<br>
    credits INT NOT NULL CHECK (credits >= 1 AND credits <= 10),<br>
    subject_type ENUM('required', 'elective') NOT NULL,<br>
    prerequisite_subject VARCHAR(10),<br>
    department_code VARCHAR(10),<br>
    FOREIGN KEY (department_code) REFERENCES department(department_code),<br>
    FOREIGN KEY (prerequisite_subject) REFERENCES subject(subject_code)<br>
);
<br>
<span class="highlight">-- Â±•‰øÆ„ÉÜ„Éº„Éñ„É´ÔºàÂ≠¶Áîü„Å®ÁßëÁõÆ„ÅÆ‰∏≠Èñì„ÉÜ„Éº„Éñ„É´Ôºâ</span><br>
CREATE TABLE enrollment (<br>
    enrollment_id INT AUTO_INCREMENT PRIMARY KEY,<br>
    student_id VARCHAR(10) NOT NULL,<br>
    subject_code VARCHAR(10) NOT NULL,<br>
    enrollment_date DATE NOT NULL,<br>
    withdraw_date DATE,<br>
    status ENUM('enrolled', 'completed', 'dropped') DEFAULT 'enrolled',<br>
    FOREIGN KEY (student_id) REFERENCES student(student_id),<br>
    FOREIGN KEY (subject_code) REFERENCES subject(subject_code),<br>
    UNIQUE KEY unique_enrollment (student_id, subject_code)<br>
);<br>

<span class="highlight">-- ÊàêÁ∏æ„ÉÜ„Éº„Éñ„É´ÔºàÂ≠¶Áîü„Å®ÁßëÁõÆ„Å∏„ÅÆÂ§ñÈÉ®„Ç≠„ÉºÂèÇÁÖßÔºâ</span><br>
CREATE TABLE score (<br>
    score_id INT AUTO_INCREMENT PRIMARY KEY,<br>
    student_id VARCHAR(10) NOT NULL,<br>
    subject_code VARCHAR(10) NOT NULL,<br>
    academic_year INT NOT NULL,<br>
    semester ENUM('spring', 'fall') NOT NULL,<br>
    score INT CHECK (score >= 0 AND score <= 100),<br>
    grade_letter ENUM('A+', 'A', 'B', 'C', 'D', 'F'),<br>
    exam_date DATE,<br>
    FOREIGN KEY (student_id) REFERENCES student(student_id),<br>
    FOREIGN KEY (subject_code) REFERENCES subject(subject_code),<br>
    UNIQUE KEY unique_score (student_id, subject_code, academic_year, semester)<br>
);<br>
            </div>
        </div>
    </div>
</body>
</html>