<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å­¦ç”Ÿç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ï¼šç¾ã—ã„5ãƒ†ãƒ¼ãƒ–ãƒ«ERå›³</title>
    <style>
        :root {
            --bg1: #f8fafc;
            --bg2: #eef2ff;
            --panel: #ffffff;
            --ink: #111827;
            --primary: #2563eb;
            --edge: #0f172a;
            --label: #b45309;
        }
        
        html, body {
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, var(--bg1), var(--bg2));
            color: var(--ink);
            font-family: "Segoe UI", system-ui, -apple-system, "Hiragino Kaku Gothic ProN", "Noto Sans JP", sans-serif;
        }
        
        .wrap {
            max-width: 1400px;
            margin: 0 auto;
            padding: 24px;
        }
        
        header {
            background: linear-gradient(135deg, #111827, #374151);
            color: #fff;
            padding: 32px;
            border-radius: 16px;
            box-shadow: 0 18px 36px rgba(0,0,0,.15);
            text-align: center;
        }
        
        header h1 {
            margin: 0 0 8px 0;
            font-size: clamp(20px, 2.5vw, 28px);
            font-weight: 700;
        }
        
        header p {
            margin: 0;
            color: #d1d5db;
            font-size: 14px;
        }
        
        .canvas {
            margin-top: 24px;
            background: var(--panel);
            border-radius: 16px;
            padding: 20px;
            box-shadow: 0 14px 28px rgba(0,0,0,.08);
        }
        
        .legend {
            margin-top: 20px;
            background: var(--panel);
            border-radius: 16px;
            padding: 20px;
            box-shadow: 0 10px 20px rgba(0,0,0,.06);
        }
        
        .legend h2 {
            margin: 0 0 12px 0;
            font-size: 18px;
            border-left: 6px solid var(--primary);
            padding-left: 12px;
        }
        
        .legend-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 16px;
        }
        
        .legend-item {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 12px;
            border-left: 4px solid var(--primary);
        }
        
        .legend-title {
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 8px;
        }
        
        .legend-desc {
            font-size: 13px;
            color: #6b7280;
            line-height: 1.4;
        }
    </style>
</head>
<body>
    <div class="wrap">
        <header>
            <h1>ğŸ—„ï¸ å­¦ç”Ÿç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ï¼šç¾ã—ã„5ãƒ†ãƒ¼ãƒ–ãƒ«ERå›³</h1>
            <p>Entity-Relationship Diagram with Professional Design</p>
        </header>
        
        <div class="canvas">
            <svg viewBox="0 0 1300 900" width="100%" height="auto" role="img" aria-label="å­¦ç”Ÿç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 5ãƒ†ãƒ¼ãƒ–ãƒ«ERå›³">
                <defs>
                    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
                        <feDropShadow dx="0" dy="8" stdDeviation="8" flood-color="#000" flood-opacity="0.15"/>
                    </filter>
                    
                    <linearGradient id="deptBox" x1="0" x2="0" y1="0" y2="1">
                        <stop offset="0" stop-color="#fef2f2"/>
                        <stop offset="1" stop-color="#fee2e2"/>
                    </linearGradient>
                    
                    <linearGradient id="studentBox" x1="0" x2="0" y1="0" y2="1">
                        <stop offset="0" stop-color="#eff6ff"/>
                        <stop offset="1" stop-color="#dbeafe"/>
                    </linearGradient>
                    
                    <linearGradient id="teacherBox" x1="0" x2="0" y1="0" y2="1">
                        <stop offset="0" stop-color="#fffbeb"/>
                        <stop offset="1" stop-color="#fef3c7"/>
                    </linearGradient>
                    
                    <linearGradient id="subjectBox" x1="0" x2="0" y1="0" y2="1">
                        <stop offset="0" stop-color="#f0fdf4"/>
                        <stop offset="1" stop-color="#dcfce7"/>
                    </linearGradient>
                    
                    <linearGradient id="gradeBox" x1="0" x2="0" y1="0" y2="1">
                        <stop offset="0" stop-color="#faf5ff"/>
                        <stop offset="1" stop-color="#f3e8ff"/>
                    </linearGradient>
                    
                    <marker id="dot" markerWidth="8" markerHeight="8" refX="4" refY="4">
                        <circle cx="4" cy="4" r="3" fill="#0f172a"/>
                    </marker>
                    
                    <style>
                        .dept-box { fill: url(#deptBox); stroke: #dc2626; stroke-width: 2.5; rx: 12; ry: 12; }
                        .student-box { fill: url(#studentBox); stroke: #2563eb; stroke-width: 2.5; rx: 12; ry: 12; }
                        .teacher-box { fill: url(#teacherBox); stroke: #d97706; stroke-width: 2.5; rx: 12; ry: 12; }
                        .subject-box { fill: url(#subjectBox); stroke: #16a34a; stroke-width: 2.5; rx: 12; ry: 12; }
                        .grade-box { fill: url(#gradeBox); stroke: #9333ea; stroke-width: 2.5; rx: 12; ry: 12; }
                        
                        .title { font-weight: 700; font-size: 16px; }
                        .dept-title { fill: #dc2626; }
                        .student-title { fill: #2563eb; }
                        .teacher-title { fill: #d97706; }
                        .subject-title { fill: #16a34a; }
                        .grade-title { fill: #9333ea; }
                        
                        .attr { fill: #111827; font-size: 12px; font-family: 'Courier New', monospace; }
                        .pk { text-decoration: underline; font-weight: 700; }
                        .fk { font-style: italic; fill: #6b7280; }
                        .uk { fill: #9333ea; font-weight: 600; }
                        
                        .edge { fill: none; stroke: var(--edge); stroke-width: 2.5; marker-start: url(#dot); marker-end: url(#dot); }
                        .badge { fill: #fff7ed; stroke: #f59e0b; stroke-width: 1.5; rx: 8; ry: 8; }
                        .edge-label { fill: #b45309; font-weight: 700; font-size: 11px; }
                        .card { fill: #111827; font-weight: 800; font-size: 11px; }
                        .divider { stroke: #93c5fd; stroke-width: 1.5; }
                    </style>
                </defs>

                <!-- Departments Entity (å·¦ä¸Š) -->
                <g id="departments" transform="translate(50, 60)" filter="url(#shadow)">
                    <rect class="dept-box" width="260" height="180"/>
                    <text class="title dept-title" x="130" y="25" text-anchor="middle">ğŸ« departments</text>
                    <line class="divider" x1="15" x2="245" y1="40" y2="40"/>
                    <g font-family="monospace">
                        <text class="attr pk" x="20" y="60">department_id</text>
                        <text class="attr uk" x="20" y="78">department_code (UK)</text>
                        <text class="attr" x="20" y="96">department_name</text>
                        <text class="attr" x="20" y="114">capacity</text>
                        <text class="attr" x="20" y="132">established_date</text>
                        <text class="attr" x="20" y="150">created_at</text>
                    </g>
                </g>

                <!-- Teachers Entity (å³ä¸Š) -->
                <g id="teachers" transform="translate(980, 60)" filter="url(#shadow)">
                    <rect class="teacher-box" width="260" height="200"/>
                    <text class="title teacher-title" x="130" y="25" text-anchor="middle">ğŸ‘¨â€ğŸ« teachers</text>
                    <line class="divider" x1="15" x2="245" y1="40" y2="40"/>
                    <g font-family="monospace">
                        <text class="attr pk" x="20" y="60">teacher_id</text>
                        <text class="attr uk" x="20" y="78">teacher_code (UK)</text>
                        <text class="attr" x="20" y="96">last_name</text>
                        <text class="attr" x="20" y="114">first_name</text>
                        <text class="attr uk" x="20" y="132">email (UK)</text>
                        <text class="attr fk" x="20" y="150">department_id (FK)</text>
                        <text class="attr" x="20" y="168">position</text>
                        <text class="attr" x="20" y="186">hire_date</text>
                    </g>
                </g>

                <!-- Grades Entity (ä¸­å¤®) -->
                <g id="grades" transform="translate(520, 350)" filter="url(#shadow)">
                    <rect class="grade-box" width="280" height="220"/>
                    <text class="title grade-title" x="140" y="25" text-anchor="middle">ğŸ“ grades</text>
                    <line class="divider" x1="15" x2="265" y1="40" y2="40"/>
                    <g font-family="monospace">
                        <text class="attr pk" x="20" y="60">grade_id</text>
                        <text class="attr fk" x="20" y="78">student_id (FK)</text>
                        <text class="attr fk" x="20" y="96">subject_id (FK)</text>
                        <text class="attr" x="20" y="114">academic_year</text>
                        <text class="attr" x="20" y="132">grade_value</text>
                        <text class="attr" x="20" y="150">score</text>
                        <text class="attr fk" x="20" y="168">teacher_id (FK)</text>
                        <text class="attr" x="20" y="186">evaluation_date</text>
                    </g>
                </g>

                <!-- Students Entity (å·¦ä¸‹) -->
                <g id="students" transform="translate(50, 620)" filter="url(#shadow)">
                    <rect class="student-box" width="260" height="220"/>
                    <text class="title student-title" x="130" y="25" text-anchor="middle">ğŸ‘¥ students</text>
                    <line class="divider" x1="15" x2="245" y1="40" y2="40"/>
                    <g font-family="monospace">
                        <text class="attr pk" x="20" y="60">student_id</text>
                        <text class="attr uk" x="20" y="78">student_number (UK)</text>
                        <text class="attr" x="20" y="96">last_name</text>
                        <text class="attr" x="20" y="114">first_name</text>
                        <text class="attr" x="20" y="132">birth_date</text>
                        <text class="attr fk" x="20" y="150">department_id (FK)</text>
                        <text class="attr" x="20" y="168">status</text>
                        <text class="attr" x="20" y="186">gpa</text>
                    </g>
                </g>

                <!-- Subjects Entity (å³ä¸‹) -->
                <g id="subjects" transform="translate(980, 620)" filter="url(#shadow)">
                    <rect class="subject-box" width="260" height="200"/>
                    <text class="title subject-title" x="130" y="25" text-anchor="middle">ğŸ“š subjects</text>
                    <line class="divider" x1="15" x2="245" y1="40" y2="40"/>
                    <g font-family="monospace">
                        <text class="attr pk" x="20" y="60">subject_id</text>
                        <text class="attr uk" x="20" y="78">subject_code (UK)</text>
                        <text class="attr" x="20" y="96">subject_name</text>
                        <text class="attr" x="20" y="114">credits</text>
                        <text class="attr" x="20" y="132">semester</text>
                        <text class="attr fk" x="20" y="150">department_id (FK)</text>
                        <text class="attr" x="20" y="168">required_flag</text>
                    </g>
                </g>

                <!-- CONNECTIONS -->

                <!-- Departments â†’ Teachers (å³ä¸Šã¸ã®æ¥ç¶š) -->
                <polyline class="edge" points="310,120 650,120 650,160 980,160"/>
                <g transform="translate(620,98)"><rect class="badge" width="60" height="20"/><text class="edge-label" x="30" y="14" text-anchor="middle">æ‰€å±</text></g>
                <text class="card" x="320" y="112">1</text>
                <text class="card" x="965" y="152">N</text>

                <!-- Departments â†’ Students (å·¦ä¸‹ã¸ã®æ¥ç¶š) -->
                <polyline class="edge" points="180,240 180,450 180,620"/>
                <g transform="translate(148,340)"><rect class="badge" width="60" height="20"/><text class="edge-label" x="30" y="14" text-anchor="middle">æ‰€å±</text></g>
                <text class="card" x="172" y="252">1</text>
                <text class="card" x="172" y="608">N</text>

                <!-- Departments â†’ Subjects (subjects ã¸ã®æ¥ç¶šã€departments ã‹ã‚‰è¿‚å›) -->
                <polyline class="edge" points="180,240 180,280 1110,280 1110,620"/>
                <g transform="translate(620,258)"><rect class="badge" width="60" height="20"/><text class="edge-label" x="30" y="14" text-anchor="middle">é–‹è¨­</text></g>
                <text class="card" x="172" y="252">1</text>
                <text class="card" x="1102" y="608">N</text>

                <!-- Students â†’ Grades (å·¦ä¸‹ã‹ã‚‰ä¸­å¤®ã¸ã®æ¥ç¶š) -->
                <polyline class="edge" points="310,730 520,730 520,570"/>
                <g transform="translate(380,708)"><rect class="badge" width="60" height="20"/><text class="edge-label" x="30" y="14" text-anchor="middle">æˆç¸¾</text></g>
                <text class="card" x="320" y="722">1</text>
                <text class="card" x="512" y="582">N</text>

                <!-- Subjects â†’ Grades (å³ä¸‹ã‹ã‚‰ä¸­å¤®ã¸ã®æ¥ç¶š) -->
                <polyline class="edge" points="980,720 800,720 800,570"/>
                <g transform="translate(850,698)"><rect class="badge" width="60" height="20"/><text class="edge-label" x="30" y="14" text-anchor="middle">è©•ä¾¡</text></g>
                <text class="card" x="965" y="712">1</text>
                <text class="card" x="792" y="582">N</text>

                <!-- Teachers â†’ Grades (å³ä¸Šã‹ã‚‰ä¸­å¤®ã¸ã®æ¥ç¶š) -->
                <polyline class="edge" points="1110,260 1110,460 800,460"/>
                <g transform="translate(920,438)"><rect class="badge" width="60" height="20"/><text class="edge-label" x="30" y="14" text-anchor="middle">è©•ä¾¡è€…</text></g>
                <text class="card" x="1102" y="272">1</text>
                <text class="card" x="812" y="452">N</text>

            </svg>
        </div>
        
        <div class="legend">
            <h2>ğŸ”— ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£é–“ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</h2>
            <div class="legend-grid">
                <div class="legend-item">
                    <div class="legend-title">ğŸ« departments â†’ ğŸ‘¥ students (1:N)</div>
                    <div class="legend-desc">1ã¤ã®å­¦ç§‘ã«è¤‡æ•°ã®å­¦ç”ŸãŒæ‰€å±ã€‚students.department_id (FK)</div>
                </div>
                <div class="legend-item">
                    <div class="legend-title">ğŸ« departments â†’ ğŸ‘¨â€ğŸ« teachers (1:N)</div>
                    <div class="legend-desc">1ã¤ã®å­¦ç§‘ã«è¤‡æ•°ã®æ•™å“¡ãŒæ‰€å±ã€‚teachers.department_id (FK)</div>
                </div>
                <div class="legend-item">
                    <div class="legend-title">ğŸ« departments â†’ ğŸ“š subjects (1:N)</div>
                    <div class="legend-desc">1ã¤ã®å­¦ç§‘ã§è¤‡æ•°ã®ç§‘ç›®ã‚’é–‹è¬›ã€‚subjects.department_id (FK)</div>
                </div>
                <div class="legend-item">
                    <div class="legend-title">ğŸ‘¥ students â†’ ğŸ“ grades (1:N)</div>
                    <div class="legend-desc">1äººã®å­¦ç”ŸãŒè¤‡æ•°ã®æˆç¸¾ã‚’æŒã¤ã€‚grades.student_id (FK)</div>
                </div>
                <div class="legend-item">
                    <div class="legend-title">ğŸ“š subjects â†’ ğŸ“ grades (1:N)</div>
                    <div class="legend-desc">1ã¤ã®ç§‘ç›®ã§è¤‡æ•°ã®æˆç¸¾ãŒç™»éŒ²ã€‚grades.subject_id (FK)</div>
                </div>
                <div class="legend-item">
                    <div class="legend-title">ğŸ‘¨â€ğŸ« teachers â†’ ğŸ“ grades (1:N)</div>
                    <div class="legend-desc">1äººã®æ•™å“¡ãŒè¤‡æ•°ã®æˆç¸¾ã‚’è©•ä¾¡ã€‚grades.teacher_id (FK)</div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>