<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>バリデーション実行結果表示図</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 1300px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.15);
            padding: 40px;
        }

        .title {
            text-align: center;
            font-size: 28px;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .subtitle {
            text-align: center;
            font-size: 18px;
            color: #7f8c8d;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 3px solid #f39c12;
        }

        .console-section {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
            position: relative;
            border: 1px solid #ddd;
        }

        .console-header {
            background: #34495e;
            margin: -25px -25px 20px -25px;
            padding: 12px 20px;
            border-radius: 12px 12px 0 0;
            color: #ecf0f1;
            font-size: 14px;
            font-weight: bold;
            display: flex;
            align-items: center;
        }

        .console-dots {
            display: flex;
            gap: 6px;
            margin-right: 15px;
        }

        .console-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        .dot-red { background: #e74c3c; }
        .dot-yellow { background: #f39c12; }
        .dot-green { background: #27ae60; }

        .console-content {
            font-family: 'Courier New', monospace;
            font-size: 11px;
            line-height: 1.4;
            color: #2c3e50;
            text-align: left;
        }

        .log-entry {
            margin: 8px 0;
            display: flex;
            align-items: flex-start;
        }

        .log-timestamp {
            color: #95a5a6;
            margin-right: 10px;
            min-width: 140px;
        }

        .log-level {
            margin-right: 8px;
            font-weight: bold;
            min-width: 50px;
        }

        .log-info { color: #3498db; }
        .log-error { color: #e74c3c; }
        .log-warn { color: #f39c12; }
        .log-debug { color: #95a5a6; }

        .log-class {
            color: #9b59b6;
            margin-right: 8px;
        }

        .log-message {
            color: #2c3e50;
            flex: 1;
        }

        .error-details {
            background: rgba(231, 76, 60, 0.1);
            border-left: 3px solid #e74c3c;
            padding: 10px;
            margin: 10px 0;
            border-radius: 0 6px 6px 0;
        }

        .success-details {
            background: rgba(39, 174, 96, 0.1);
            border-left: 3px solid #27ae60;
            padding: 10px;
            margin: 10px 0;
            border-radius: 0 6px 6px 0;
        }

        .validation-data {
            background: rgba(52, 152, 219, 0.1);
            border-left: 3px solid #3498db;
            padding: 10px;
            margin: 10px 0;
            border-radius: 0 6px 6px 0;
            font-size: 10px;
        }

        .output-comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 30px 0;
        }

        .output-section {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 25px;
            border-top: 4px solid;
        }

        .error-output {
            border-top-color: #e74c3c;
        }

        .success-output {
            border-top-color: #27ae60;
        }

        .output-title {
            font-size: 20px;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }

        .output-icon {
            font-size: 24px;
            margin-right: 10px;
        }

        .icon-error { color: #e74c3c; }
        .icon-success { color: #27ae60; }

        .analysis-section {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            color: white;
            border-radius: 12px;
            padding: 30px;
            margin: 30px 0;
        }

        .analysis-title {
            font-size: 22px;
            font-weight: bold;
            text-align: center;
            margin-bottom: 25px;
        }

        .analysis-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
        }

        .analysis-item {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 15px;
            text-align: center;
        }

        .analysis-icon {
            font-size: 28px;
            margin-bottom: 10px;
        }

        .analysis-label {
            font-size: 14px;
            font-weight: bold;
            margin-bottom: 8px;
        }

        .analysis-description {
            font-size: 12px;
            line-height: 1.4;
            opacity: 0.9;
        }

        .details-section {
            background: #34495e;
            color: white;
            border-radius: 12px;
            padding: 25px;
            margin-top: 30px;
        }

        .details-title {
            font-size: 20px;
            font-weight: bold;
            text-align: center;
            margin-bottom: 20px;
        }

        .details-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .detail-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 15px;
        }

        .detail-header {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 10px;
            color: #f39c12;
        }

        .detail-content {
            font-size: 13px;
            line-height: 1.5;
        }

        .code-snippet {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 4px;
            padding: 8px;
            margin: 8px 0;
            font-family: 'Courier New', monospace;
            font-size: 11px;
        }

        @media (max-width: 768px) {
            .output-comparison,
            .analysis-grid,
            .details-grid {
                grid-template-columns: 1fr;
            }
            
            .container {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="title">バリデーション実行結果表示図</h1>
        <p class="subtitle">コンソール出力の具体例とログ形式の詳細表示</p>

        <div class="console-section">
            <div class="console-header">
                <div class="console-dots">
                    <div class="console-dot dot-red"></div>
                    <div class="console-dot dot-yellow"></div>
                    <div class="console-dot dot-green"></div>
                </div>
                Spring Boot アプリケーション - コンソール出力
            </div>
            <div class="console-content">
                <div class="log-entry">
                    <span class="log-timestamp">2025-08-14 14:30:15.123</span>
                    <span class="log-level log-info">INFO</span>
                    <span class="log-class">o.s.boot.SpringApplication</span>
                    <span class="log-message">: Starting StudentManagementApplication</span>
                </div>
                
                <div class="log-entry">
                    <span class="log-timestamp">2025-08-14 14:30:15.456</span>
                    <span class="log-level log-info">INFO</span>
                    <span class="log-class">o.s.web.servlet.DispatcherServlet</span>
                    <span class="log-message">: Initializing Servlet 'dispatcherServlet'</span>
                </div>

                <div class="validation-data">
                    <strong>◆ バリデーション対象データ受信:</strong><br>
                    StudentData{name='', email='', age=null, password='', confirmPassword='', agreeTerms=false}
                </div>

                <div class="log-entry">
                    <span class="log-timestamp">2025-08-14 14:30:18.789</span>
                    <span class="log-level log-warn">WARN</span>
                    <span class="log-class">c.e.controller.StudentController</span>
                    <span class="log-message">: Validation errors detected</span>
                </div>

                <div class="error-details">
                    <strong>◆ バリデーションエラー詳細:</strong><br>
                    Field: 'name' | Code: 'NotBlank' | Message: '名前は必須です'<br>
                    Field: 'email' | Code: 'NotBlank' | Message: 'メールアドレスは必須です'<br>
                    Field: 'age' | Code: 'NotNull' | Message: '年齢は必須です'<br>
                    Field: 'password' | Code: 'NotBlank' | Message: 'パスワードは必須です'<br>
                    Field: 'confirmPassword' | Code: 'NotBlank' | Message: 'パスワード確認は必須です'<br>
                    Field: 'agreeTerms' | Code: 'AssertTrue' | Message: '利用規約に同意してください'
                </div>

                <div class="log-entry">
                    <span class="log-timestamp">2025-08-14 14:30:18.812</span>
                    <span class="log-level log-error">ERROR</span>
                    <span class="log-class">c.e.controller.StudentController</span>
                    <span class="log-message">: Total validation errors: 6</span>
                </div>

                <div class="log-entry">
                    <span class="log-timestamp">2025-08-14 14:30:18.834</span>
                    <span class="log-level log-info">INFO</span>
                    <span class="log-class">c.e.controller.StudentController</span>
                    <span class="log-message">: Returning to form view with errors</span>
                </div>

                <div class="log-entry">
                    <span class="log-timestamp">2025-08-14 14:30:18.856</span>
                    <span class="log-level log-debug">DEBUG</span>
                    <span class="log-class">o.s.web.servlet.DispatcherServlet</span>
                    <span class="log-message">: Rendering view 'students/form'</span>
                </div>
            </div>
        </div>

        <div class="output-comparison">
            <div class="output-section error-output">
                <h3 class="output-title">
                    <span class="output-icon icon-error">❌</span>
                    エラー時のコンソール出力
                </h3>
                <div class="console-content">
                    <div class="log-entry">
                        <span class="log-level log-error">ERROR</span>
                        <span class="log-message">BindingResult hasErrors: true</span>
                    </div>
                    <div class="log-entry">
                        <span class="log-level log-error">ERROR</span>
                        <span class="log-message">Error count: 6</span>
                    </div>
                    <div class="error-details">
                        <strong>エラー一覧:</strong><br>
                        • name: 名前は必須です<br>
                        • email: メールアドレスは必須です<br>
                        • age: 年齢は必須です<br>
                        • password: パスワードは必須です<br>
                        • confirmPassword: パスワード確認は必須です<br>
                        • agreeTerms: 利用規約に同意してください
                    </div>
                    <div class="log-entry">
                        <span class="log-level log-info">INFO</span>
                        <span class="log-message">View: students/form (エラー表示)</span>
                    </div>
                </div>
            </div>

            <div class="output-section success-output">
                <h3 class="output-title">
                    <span class="output-icon icon-success">✅</span>
                    成功時のコンソール出力
                </h3>
                <div class="console-content">
                    <div class="log-entry">
                        <span class="log-level log-info">INFO</span>
                        <span class="log-message">BindingResult hasErrors: false</span>
                    </div>
                    <div class="success-details">
                        <strong>バリデーション成功:</strong><br>
                        StudentData{name='田中太郎', email='tanaka@example.com', age=25, password='********', confirmPassword='********', agreeTerms=true}
                    </div>
                    <div class="log-entry">
                        <span class="log-level log-info">INFO</span>
                        <span class="log-message">Saving student data...</span>
                    </div>
                    <div class="log-entry">
                        <span class="log-level log-info">INFO</span>
                        <span class="log-message">Student saved successfully: ID=123</span>
                    </div>
                    <div class="log-entry">
                        <span class="log-level log-info">INFO</span>
                        <span class="log-message">Redirect: /students</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="analysis-section">
            <h2 class="analysis-title">📊 ログ出力の分析ポイント</h2>
            <div class="analysis-grid">
                <div class="analysis-item">
                    <div class="analysis-icon">🕐</div>
                    <div class="analysis-label">タイムスタンプ</div>
                    <div class="analysis-description">
                        正確な実行時刻を記録<br>
                        ミリ秒単位での詳細追跡
                    </div>
                </div>
                <div class="analysis-item">
                    <div class="analysis-icon">📋</div>
                    <div class="analysis-label">ログレベル</div>
                    <div class="analysis-description">
                        INFO/WARN/ERROR/DEBUG<br>
                        重要度別の分類表示
                    </div>
                </div>
                <div class="analysis-item">
                    <div class="analysis-icon">🎯</div>
                    <div class="analysis-label">クラス特定</div>
                    <div class="analysis-description">
                        どのクラスから出力されたか<br>
                        デバッグ時の追跡が容易
                    </div>
                </div>
            </div>
        </div>

        <div class="details-section">
            <h2 class="details-title">🔍 コンソール出力の詳細説明</h2>
            <div class="details-grid">
                <div class="detail-card">
                    <div class="detail-header">📝 エラー詳細の読み方</div>
                    <div class="detail-content">
                        <strong>Field:</strong> エラーが発生したフィールド名<br>
                        <strong>Code:</strong> バリデーションアノテーション名<br>
                        <strong>Message:</strong> ユーザー向けエラーメッセージ
                        <div class="code-snippet">
Field: 'name' | Code: 'NotBlank' | Message: '名前は必須です'
                        </div>
                    </div>
                </div>
                
                <div class="detail-card">
                    <div class="detail-header">⚡ 処理フローの追跡</div>
                    <div class="detail-content">
                        1. リクエスト受信<br>
                        2. @Valid実行<br>
                        3. BindingResult判定<br>
                        4. エラー時：フォーム画面表示<br>
                        5. 成功時：リダイレクト実行
                    </div>
                </div>
                
                <div class="detail-card">
                    <div class="detail-header">🛡️ セキュリティ考慮</div>
                    <div class="detail-content">
                        パスワード情報は「********」でマスク表示<br>
                        機密情報の漏洩を防止<br>
                        ログファイルでも安全性を確保
                        <div class="code-snippet">
password='********', confirmPassword='********'
                        </div>
                    </div>
                </div>
                
                <div class="detail-card">
                    <div class="detail-header">📊 デバッグ活用方法</div>
                    <div class="detail-content">
                        • ERROR/WARNレベルで問題箇所特定<br>
                        • INFOレベルで処理フロー確認<br>
                        • DEBUGレベルで詳細動作追跡<br>
                        • タイムスタンプで性能分析
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>