<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚¨ãƒ©ãƒ¼ã‚µãƒãƒªãƒ¼æŠ€è¡“å›³</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 1300px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.15);
            padding: 40px;
        }

        .title {
            text-align: center;
            font-size: 28px;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .subtitle {
            text-align: center;
            font-size: 18px;
            color: #7f8c8d;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 3px solid #f39c12;
        }

        .technical-overview {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            color: white;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
        }

        .technical-title {
            font-size: 24px;
            font-weight: bold;
            text-align: center;
            margin-bottom: 20px;
        }

        .function-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin: 30px 0;
        }

        .function-card {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 25px;
            border-top: 4px solid #f39c12;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .function-header {
            font-size: 20px;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }

        .function-icon {
            font-size: 24px;
            margin-right: 10px;
            color: #f39c12;
        }

        .code-example {
            background: #2c3e50;
            color: #ecf0f1;
            border-radius: 8px;
            padding: 20px;
            font-family: 'Courier New', monospace;
            font-size: 11px;
            line-height: 1.5;
            margin: 15px 0;
            text-align: left;
            overflow-x: auto;
        }

        .highlight-thymeleaf { color: #9b59b6; }
        .highlight-attribute { color: #f39c12; }
        .highlight-value { color: #2ecc71; }
        .highlight-html { color: #e74c3c; }
        .highlight-condition { color: #3498db; }
        .highlight-comment { color: #95a5a6; font-style: italic; }
        .highlight-variable { color: #e67e22; }

        .function-description {
            color: #34495e;
            margin-bottom: 15px;
            line-height: 1.6;
        }

        .parameter-info {
            background: #ecf0f1;
            border-radius: 6px;
            padding: 12px;
            margin: 10px 0;
            font-size: 13px;
            color: #2c3e50;
        }

        .implementation-section {
            background: #34495e;
            color: white;
            border-radius: 12px;
            padding: 30px;
            margin: 30px 0;
        }

        .implementation-title {
            font-size: 22px;
            font-weight: bold;
            text-align: center;
            margin-bottom: 25px;
        }

        .step-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
        }

        .step-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
        }

        .step-number {
            background: #f39c12;
            color: white;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin: 0 auto 15px;
            font-size: 18px;
        }

        .step-title {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .step-description {
            font-size: 13px;
            line-height: 1.4;
            opacity: 0.9;
        }

        .data-flow-section {
            background: #ecf0f1;
            border-radius: 12px;
            padding: 30px;
            margin: 30px 0;
        }

        .data-flow-title {
            font-size: 22px;
            font-weight: bold;
            color: #2c3e50;
            text-align: center;
            margin-bottom: 25px;
        }

        .flow-diagram {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 25px;
            margin: 20px 0;
        }

        .flow-box {
            background: white;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            border: 2px solid #f39c12;
        }

        .flow-label {
            font-size: 14px;
            font-weight: bold;
            color: #f39c12;
            margin-bottom: 10px;
        }

        .flow-content {
            font-size: 12px;
            color: #2c3e50;
            line-height: 1.4;
        }

        .example-section {
            background: #2ecc71;
            color: white;
            border-radius: 12px;
            padding: 25px;
            margin-top: 30px;
        }

        .example-title {
            font-size: 20px;
            font-weight: bold;
            text-align: center;
            margin-bottom: 20px;
        }

        .example-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .example-item {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 15px;
        }

        .example-label {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .example-content {
            font-size: 13px;
            line-height: 1.4;
        }

        .summary-points {
            background: #95a5a6;
            color: white;
            border-radius: 12px;
            padding: 20px;
            margin-top: 30px;
        }

        .summary-title {
            font-size: 18px;
            font-weight: bold;
            text-align: center;
            margin-bottom: 15px;
        }

        .points-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .point-item {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            padding: 12px;
            font-size: 13px;
            display: flex;
            align-items: center;
        }

        .point-icon {
            font-size: 16px;
            margin-right: 8px;
        }

        @media (max-width: 768px) {
            .function-grid,
            .example-grid {
                grid-template-columns: 1fr;
            }
            
            .step-grid {
                grid-template-columns: 1fr 1fr;
            }
            
            .flow-diagram {
                grid-template-columns: 1fr;
            }
            
            .points-grid {
                grid-template-columns: 1fr;
            }
            
            .container {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="title">ã‚¨ãƒ©ãƒ¼ã‚µãƒãƒªãƒ¼æŠ€è¡“å›³</h1>
        <p class="subtitle">th:eachã«ã‚ˆã‚‹å…¨ã‚¨ãƒ©ãƒ¼ä¸€è¦§è¡¨ç¤ºã®æŠ€è¡“è©³ç´°</p>

        <div class="technical-overview">
            <h2 class="technical-title">ğŸ”§ æŠ€è¡“æ¦‚è¦</h2>
            <div class="code-example">
<span class="highlight-comment">&lt;!-- ã‚¨ãƒ©ãƒ¼ã‚µãƒãƒªãƒ¼ã®å®Œå…¨ãªå®Ÿè£…ä¾‹ --&gt;</span><br>
<span class="highlight-html">&lt;div</span> <span class="highlight-attribute">class</span>=<span class="highlight-value">"alert alert-danger"</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="highlight-thymeleaf">th:if</span>=<span class="highlight-value">"<span class="highlight-condition">${#fields.hasAnyErrors()}</span>"</span><span class="highlight-html">&gt;</span><br>
<br>
&nbsp;&nbsp;<span class="highlight-html">&lt;h4&gt;</span>å…¥åŠ›ã‚¨ãƒ©ãƒ¼ãŒè¦‹ã¤ã‹ã‚Šã¾ã—ãŸ<span class="highlight-html">&lt;/h4&gt;</span><br>
<br>
&nbsp;&nbsp;<span class="highlight-html">&lt;ul&gt;</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="highlight-html">&lt;li</span> <span class="highlight-thymeleaf">th:each</span>=<span class="highlight-value">"<span class="highlight-variable">error</span> : <span class="highlight-condition">${#fields.allErrors()}</span>"</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="highlight-thymeleaf">th:text</span>=<span class="highlight-value">"${<span class="highlight-variable">error</span>}"</span><span class="highlight-html">&gt;&lt;/li&gt;</span><br>
&nbsp;&nbsp;<span class="highlight-html">&lt;/ul&gt;</span><br>
<span class="highlight-html">&lt;/div&gt;</span>
            </div>
        </div>

        <div class="function-grid">
            <div class="function-card">
                <h3 class="function-header">
                    <span class="function-icon">ğŸ”</span>
                    #fields.hasAnyErrors()
                </h3>
                <div class="function-description">
                    ãƒ•ã‚©ãƒ¼ãƒ å…¨ä½“ã«ã‚¨ãƒ©ãƒ¼ãŒå­˜åœ¨ã™ã‚‹ã‹ã‚’åˆ¤å®šã™ã‚‹é–¢æ•°
                </div>
                <div class="code-example">
<span class="highlight-comment">// åŸºæœ¬æ§‹æ–‡</span><br>
<span class="highlight-condition">${#fields.hasAnyErrors()}</span><br>
<br>
<span class="highlight-comment">// æˆ»ã‚Šå€¤å‹: boolean</span><br>
<span class="highlight-comment">// true  : ã‚¨ãƒ©ãƒ¼ãŒ1ã¤ä»¥ä¸Šå­˜åœ¨</span><br>
<span class="highlight-comment">// false : ã‚¨ãƒ©ãƒ¼ãªã—ï¼ˆå…¨ã¦æ­£å¸¸ï¼‰</span><br>
<br>
<span class="highlight-comment">// ä½¿ç”¨å ´é¢</span><br>
<span class="highlight-thymeleaf">th:if</span>=<span class="highlight-value">"<span class="highlight-condition">${#fields.hasAnyErrors()}</span>"</span><br>
<span class="highlight-thymeleaf">th:unless</span>=<span class="highlight-value">"<span class="highlight-condition">${#fields.hasAnyErrors()}</span>"</span>
                </div>
                <div class="parameter-info">
                    <strong>åˆ¤å®šå¯¾è±¡:</strong> StudentDataã‚¯ãƒ©ã‚¹ã®å…¨ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰<br>
                    name, email, age, password, confirmPassword, agreeTerms
                </div>
            </div>

            <div class="function-card">
                <h3 class="function-header">
                    <span class="function-icon">ğŸ“‹</span>
                    #fields.allErrors()
                </h3>
                <div class="function-description">
                    å…¨ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§ã‚’å–å¾—ã™ã‚‹é–¢æ•°
                </div>
                <div class="code-example">
<span class="highlight-comment">// åŸºæœ¬æ§‹æ–‡</span><br>
<span class="highlight-condition">${#fields.allErrors()}</span><br>
<br>
<span class="highlight-comment">// æˆ»ã‚Šå€¤å‹: List&lt;String&gt;</span><br>
<span class="highlight-comment">// ä¾‹: ["åå‰ã¯å¿…é ˆã§ã™",</span><br>
<span class="highlight-comment">//      "æ­£ã—ã„ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’...",</span><br>
<span class="highlight-comment">//      "å¹´é½¢ã¯0æ­³ä»¥ä¸Šã§..."]</span><br>
<br>
<span class="highlight-comment">// ä½¿ç”¨å ´é¢</span><br>
<span class="highlight-thymeleaf">th:each</span>=<span class="highlight-value">"error : <span class="highlight-condition">${#fields.allErrors()}</span>"</span>
                </div>
                <div class="parameter-info">
                    <strong>å–å¾—å†…å®¹:</strong> Bean Validationã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã®messageå±æ€§å€¤<br>
                    <strong>é †åº:</strong> ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å®šç¾©é †ã«å–å¾—ã•ã‚Œã‚‹
                </div>
            </div>
        </div>

        <div class="implementation-section">
            <h2 class="implementation-title">âš™ï¸ th:eachå®Ÿè£…ã®ä»•çµ„ã¿</h2>
            <div class="step-grid">
                <div class="step-card">
                    <div class="step-number">1</div>
                    <div class="step-title">ã‚¨ãƒ©ãƒ¼åˆ¤å®š</div>
                    <div class="step-description">
                        #fields.hasAnyErrors()<br>
                        ã§ã‚¨ãƒ©ãƒ¼å­˜åœ¨ã‚’ç¢ºèª
                    </div>
                </div>
                <div class="step-card">
                    <div class="step-number">2</div>
                    <div class="step-title">ãƒªã‚¹ãƒˆå–å¾—</div>
                    <div class="step-description">
                        #fields.allErrors()<br>
                        ã§å…¨ã‚¨ãƒ©ãƒ¼ã®Listå–å¾—
                    </div>
                </div>
                <div class="step-card">
                    <div class="step-number">3</div>
                    <div class="step-title">ãƒ«ãƒ¼ãƒ—å‡¦ç†</div>
                    <div class="step-description">
                        th:eachã§<br>
                        Listã‚’1ã¤ãšã¤å‡¦ç†
                    </div>
                </div>
                <div class="step-card">
                    <div class="step-number">4</div>
                    <div class="step-title">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å‡ºåŠ›</div>
                    <div class="step-description">
                        th:textã§<br>
                        å„ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
                    </div>
                </div>
            </div>
        </div>

        <div class="data-flow-section">
            <h2 class="data-flow-title">ğŸ”„ ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ã®è©³ç´°</h2>
            <div class="flow-diagram">
                <div class="flow-box">
                    <div class="flow-label">Bean Validationå®Ÿè¡Œ</div>
                    <div class="flow-content">
                        @NotBlank, @Email, @Min/<br>
                        @Max, @AssertTrueã®<br>
                        ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãŒå®Ÿè¡Œã•ã‚Œ<br>
                        ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç”Ÿæˆ
                    </div>
                </div>
                <div class="flow-box">
                    <div class="flow-label">BindingResultæ ¼ç´</div>
                    <div class="flow-content">
                        å„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ã‚¨ãƒ©ãƒ¼<br>
                        ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒBindingResult<br>
                        ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«è“„ç©ã•ã‚Œã‚‹
                    </div>
                </div>
                <div class="flow-box">
                    <div class="flow-label">Thymeleafå‡¦ç†</div>
                    <div class="flow-content">
                        #fields.allErrors()ã§<br>
                        List&lt;String&gt;ã¨ã—ã¦å–å¾—ã—<br>
                        th:eachã§HTMLç”Ÿæˆ
                    </div>
                </div>
            </div>
        </div>

        <div class="function-grid">
            <div class="function-card">
                <h3 class="function-header">
                    <span class="function-icon">ğŸ”„</span>
                    th:eachè©³ç´°æ§‹æ–‡
                </h3>
                <div class="code-example">
<span class="highlight-comment">// åŸºæœ¬ãƒ‘ã‚¿ãƒ¼ãƒ³</span><br>
<span class="highlight-thymeleaf">th:each</span>=<span class="highlight-value">"<span class="highlight-variable">error</span> : <span class="highlight-condition">${#fields.allErrors()}</span>"</span><br>
<br>
<span class="highlight-comment">// å¤‰æ•°å: errorï¼ˆä»»æ„ã®åå‰å¯èƒ½ï¼‰</span><br>
<span class="highlight-comment">// ãƒ‡ãƒ¼ã‚¿æº: ${#fields.allErrors()}</span><br>
<br>
<span class="highlight-comment">// æ‹¡å¼µãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ä»˜ãï¼‰</span><br>
<span class="highlight-thymeleaf">th:each</span>=<span class="highlight-value">"<span class="highlight-variable">error, stat</span> : <span class="highlight-condition">${#fields.allErrors()}</span>"</span><br>
<br>
<span class="highlight-comment">// stat.index  : ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ï¼ˆ0ã€œï¼‰</span><br>
<span class="highlight-comment">// stat.count  : ã‚«ã‚¦ãƒ³ãƒˆï¼ˆ1ã€œï¼‰</span><br>
<span class="highlight-comment">// stat.size   : å…¨ä½“ã‚µã‚¤ã‚º</span><br>
<span class="highlight-comment">// stat.first  : æœ€åˆã®è¦ç´ ã‹</span><br>
<span class="highlight-comment">// stat.last   : æœ€å¾Œã®è¦ç´ ã‹</span>
                </div>
            </div>

            <div class="function-card">
                <h3 class="function-header">
                    <span class="function-icon">ğŸ“¤</span>
                    th:textå‡ºåŠ›å‡¦ç†
                </h3>
                <div class="code-example">
<span class="highlight-comment">// åŸºæœ¬å‡ºåŠ›</span><br>
<span class="highlight-thymeleaf">th:text</span>=<span class="highlight-value">"${<span class="highlight-variable">error</span>}"</span><br>
<br>
<span class="highlight-comment">// å®Ÿéš›ã®å‡ºåŠ›ä¾‹</span><br>
<span class="highlight-comment">// "åå‰ã¯å¿…é ˆã§ã™"</span><br>
<span class="highlight-comment">// "æ­£ã—ã„ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„"</span><br>
<span class="highlight-comment">// "å¹´é½¢ã¯0æ­³ä»¥ä¸Šã§å…¥åŠ›ã—ã¦ãã ã•ã„"</span><br>
<br>
<span class="highlight-comment">// ç•ªå·ä»˜ãå‡ºåŠ›</span><br>
<span class="highlight-thymeleaf">th:text</span>=<span class="highlight-value">"|${stat.count}. ${<span class="highlight-variable">error</span>}|"</span><br>
<br>
<span class="highlight-comment">// çµæœ: "1. åå‰ã¯å¿…é ˆã§ã™"</span><br>
<span class="highlight-comment">//       "2. æ­£ã—ã„ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’..."</span>
                </div>
            </div>
        </div>

        <div class="example-section">
            <h2 class="example-title">ğŸ’¡ å®Ÿè£…ä¾‹ã¨ãƒ‘ã‚¿ãƒ¼ãƒ³</h2>
            <div class="example-grid">
                <div class="example-item">
                    <div class="example-label">ğŸŸ¢ ã‚¨ãƒ©ãƒ¼ãªã—ã®å ´åˆ</div>
                    <div class="example-content">
                        #fields.hasAnyErrors() = false<br>
                        â†’ ã‚¨ãƒ©ãƒ¼ã‚µãƒãƒªãƒ¼å…¨ä½“ãŒéè¡¨ç¤º<br>
                        â†’ th:ifã«ã‚ˆã‚‹æ¡ä»¶åˆ†å²ã§åˆ¶å¾¡<br>
                        â†’ ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã¯ä½•ã‚‚è¡¨ç¤ºã•ã‚Œãªã„
                    </div>
                </div>
                
                <div class="example-item">
                    <div class="example-label">ğŸ”´ ã‚¨ãƒ©ãƒ¼ã‚ã‚Šã®å ´åˆ</div>
                    <div class="example-content">
                        #fields.hasAnyErrors() = true<br>
                        â†’ #fields.allErrors()ã§Listå–å¾—<br>
                        â†’ th:eachã§å„ã‚¨ãƒ©ãƒ¼ã‚’ãƒ«ãƒ¼ãƒ—å‡¦ç†<br>
                        â†’ &lt;li&gt;è¦ç´ ã¨ã—ã¦ä¸€è¦§è¡¨ç¤º
                    </div>
                </div>
            </div>
        </div>

        <div class="summary-points">
            <h3 class="summary-title">ğŸ¯ æŠ€è¡“çš„ãªãƒã‚¤ãƒ³ãƒˆ</h3>
            <div class="points-grid">
                <div class="point-item">
                    <span class="point-icon">ğŸ”</span>
                    hasAnyErrors()ã§å…¨ä½“åˆ¤å®š
                </div>
                <div class="point-item">
                    <span class="point-icon">ğŸ“‹</span>
                    allErrors()ã§List&lt;String&gt;å–å¾—
                </div>
                <div class="point-item">
                    <span class="point-icon">ğŸ”„</span>
                    th:eachã§ãƒ«ãƒ¼ãƒ—å‡¦ç†
                </div>
                <div class="point-item">
                    <span class="point-icon">ğŸ“¤</span>
                    th:textã§å€‹åˆ¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å‡ºåŠ›
                </div>
            </div>
        </div>
    </div>
</body>
</html>