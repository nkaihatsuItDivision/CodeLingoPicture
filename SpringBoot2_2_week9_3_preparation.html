<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Week 9.3への準備図</title>
    <style>
        body {
            font-family: 'Hiragino Sans', 'Yu Gothic', Arial, sans-serif;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            margin: 0;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #f1c40f, #f39c12);
            color: white;
            text-align: center;
            padding: 25px;
            font-size: 28px;
            font-weight: bold;
        }

        .subtitle {
            background: linear-gradient(135deg, #fff9e6, #fdeaa7);
            padding: 15px;
            text-align: center;
            font-size: 18px;
            font-weight: bold;
            color: #d68910;
            border-bottom: 3px solid #f39c12;
        }

        .content {
            padding: 30px;
        }

        .roadmap-container {
            background: linear-gradient(135deg, #e8f5e8, #c8e6c9);
            border: 3px solid #27ae60;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
        }

        .roadmap-title {
            background: linear-gradient(135deg, #27ae60, #229954);
            color: white;
            padding: 12px;
            border-radius: 8px;
            text-align: center;
            font-weight: bold;
            font-size: 18px;
            margin-bottom: 20px;
        }

        .week-progression {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .week-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            position: relative;
            overflow: hidden;
        }

        .week-completed {
            border: 3px solid #27ae60;
        }

        .week-current {
            border: 3px solid #f39c12;
            background: linear-gradient(135deg, #fff9e6, #fdeaa7);
        }

        .week-upcoming {
            border: 3px solid #e74c3c;
            background: linear-gradient(135deg, #fdf2e9, #f8c471);
        }

        .week-header {
            padding: 10px;
            border-radius: 8px;
            text-align: center;
            font-weight: bold;
            margin-bottom: 15px;
            color: white;
        }

        .completed-header {
            background: linear-gradient(135deg, #27ae60, #229954);
        }

        .current-header {
            background: linear-gradient(135deg, #f1c40f, #f39c12);
        }

        .upcoming-header {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
        }

        .week-content {
            font-size: 14px;
            color: #2c3e50;
        }

        .week-achievement {
            background: #e8f5e8;
            border-left: 4px solid #27ae60;
            padding: 10px;
            margin: 10px 0;
            font-size: 12px;
        }

        .week-current-focus {
            background: #fef9e7;
            border-left: 4px solid #f39c12;
            padding: 10px;
            margin: 10px 0;
            font-size: 12px;
        }

        .week-preview {
            background: #fdf2e9;
            border-left: 4px solid #e74c3c;
            padding: 10px;
            margin: 10px 0;
            font-size: 12px;
        }

        .status-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 10px;
            font-weight: bold;
            color: white;
        }

        .completed-badge {
            background: #27ae60;
        }

        .current-badge {
            background: #f39c12;
        }

        .upcoming-badge {
            background: #e74c3c;
        }

        .validation-evolution {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 30px 0;
        }

        .current-state {
            background: linear-gradient(135deg, #fff9e6, #fdeaa7);
            border: 3px solid #f39c12;
            border-radius: 12px;
            padding: 25px;
        }

        .next-state {
            background: linear-gradient(135deg, #fdf2e9, #f8c471);
            border: 3px solid #e74c3c;
            border-radius: 12px;
            padding: 25px;
        }

        .state-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
            padding: 10px;
            border-radius: 8px;
            text-align: center;
            color: white;
        }

        .current-title {
            background: linear-gradient(135deg, #f1c40f, #f39c12);
        }

        .next-title {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
        }

        .code-example {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 11px;
            overflow-x: auto;
            margin: 15px 0;
        }

        .highlight-current {
            background: #f39c12;
            color: white;
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: bold;
        }

        .highlight-next {
            background: #e74c3c;
            color: white;
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: bold;
        }

        .feature-comparison {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .feature-item {
            background: white;
            border: 2px solid #bdc3c7;
            border-radius: 8px;
            padding: 15px;
        }

        .feature-title {
            font-weight: bold;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .feature-description {
            font-size: 12px;
            color: #2c3e50;
        }

        .preparation-checklist {
            background: #e8f4f8;
            border: 3px solid #3498db;
            border-radius: 12px;
            padding: 25px;
            margin: 30px 0;
        }

        .checklist-title {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            padding: 12px;
            border-radius: 8px;
            text-align: center;
            font-weight: bold;
            font-size: 18px;
            margin-bottom: 20px;
        }

        .checklist-items {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 15px;
        }

        .checklist-item {
            background: white;
            border: 2px solid #3498db;
            border-radius: 8px;
            padding: 15px;
            display: flex;
            align-items: center;
        }

        .check-icon {
            background: #27ae60;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-weight: bold;
            font-size: 18px;
        }

        .check-text {
            font-size: 14px;
            color: #2c3e50;
        }

        .next-lesson-preview {
            background: linear-gradient(135deg, #fdf2e9, #f8c471);
            border: 3px solid #e74c3c;
            border-radius: 12px;
            padding: 25px;
            margin: 30px 0;
        }

        .preview-title {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            padding: 12px;
            border-radius: 8px;
            text-align: center;
            font-weight: bold;
            font-size: 18px;
            margin-bottom: 20px;
        }

        .preview-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .preview-section {
            background: white;
            border: 2px solid #e74c3c;
            border-radius: 10px;
            padding: 20px;
        }

        .preview-section-title {
            background: #e74c3c;
            color: white;
            padding: 8px;
            border-radius: 5px;
            text-align: center;
            font-weight: bold;
            margin-bottom: 15px;
            font-size: 14px;
        }

        .motivation-section {
            background: linear-gradient(135deg, #e8f5e8, #c8e6c9);
            border: 3px solid #27ae60;
            border-radius: 12px;
            padding: 25px;
            margin-top: 30px;
            text-align: center;
        }

        .motivation-title {
            background: linear-gradient(135deg, #27ae60, #229954);
            color: white;
            padding: 15px;
            border-radius: 8px;
            font-weight: bold;
            font-size: 20px;
            margin-bottom: 20px;
        }

        .motivation-text {
            font-size: 16px;
            color: #2c3e50;
            line-height: 1.8;
        }

        .highlight-motivation {
            background: #f1c40f;
            color: white;
            padding: 3px 8px;
            border-radius: 5px;
            font-weight: bold;
        }

        @media (max-width: 768px) {
            .week-progression {
                grid-template-columns: 1fr;
            }
            
            .validation-evolution {
                grid-template-columns: 1fr;
            }
            
            .feature-comparison {
                grid-template-columns: 1fr;
            }
            
            .preview-content {
                grid-template-columns: 1fr;
            }
            
            .checklist-items {
                grid-template-columns: 1fr;
            }
            
            .header {
                font-size: 24px;
                padding: 20px;
            }
            
            .content {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            Week 9.3への準備図
        </div>
        
        <div class="subtitle">
            バリデーション機能実装への基盤確立 - Week 9全体の学習ロードマップ
        </div>

        <div class="content">
            <div class="roadmap-container">
                <div class="roadmap-title">
                    🗺️ Week 9 全体学習ロードマップ
                </div>
                
                <div class="week-progression">
                    <div class="week-card week-completed">
                        <div class="status-badge completed-badge">✓ 完了</div>
                        <div class="week-header completed-header">
                            Week 9.1: DTO設計
                        </div>
                        <div class="week-content">
                            <strong>StudentDataクラス設計</strong><br>
                            フォーム処理に最適化されたDTOパターンの実装
                        </div>
                        <div class="week-achievement">
                            ✅ バリデーションアノテーション配置<br>
                            ✅ Entity変換メソッド実装<br>
                            ✅ フォーム処理基盤の確立
                        </div>
                    </div>
                    
                    <div class="week-card week-current">
                        <div class="status-badge current-badge">📍 現在</div>
                        <div class="week-header current-header">
                            Week 9.2: フォーム構築
                        </div>
                        <div class="week-content">
                            <strong>Thymeleafフォーム技術</strong><br>
                            th:object・th:fieldによる自動バインディング
                        </div>
                        <div class="week-current-focus">
                            🎯 自動属性生成の習得<br>
                            🎯 双方向データバインディング<br>
                            🎯 実用的フォームUI実装
                        </div>
                    </div>
                    
                    <div class="week-card week-upcoming">
                        <div class="status-badge upcoming-badge">🚀 次回</div>
                        <div class="week-header upcoming-header">
                            Week 9.3: バリデーション
                        </div>
                        <div class="week-content">
                            <strong>Bean Validation実装</strong><br>
                            エラー処理・メッセージ表示の完全実装
                        </div>
                        <div class="week-preview">
                            🔜 リアルタイムエラー表示<br>
                            🔜 カスタムバリデーション<br>
                            🔜 プロダクションレベル完成
                        </div>
                    </div>
                    
                    <div class="week-card week-upcoming">
                        <div class="status-badge upcoming-badge">📅 後日</div>
                        <div class="week-header upcoming-header">
                            Week 9.4-9.8: 応用
                        </div>
                        <div class="week-content">
                            <strong>高度なフォーム処理</strong><br>
                            ファイルアップロード・AJAX・セキュリティ
                        </div>
                        <div class="week-preview">
                            📁 ファイル処理技術<br>
                            ⚡ Ajax非同期処理<br>
                            🔒 セキュリティ対策
                        </div>
                    </div>
                </div>
            </div>

            <div class="validation-evolution">
                <div class="current-state">
                    <div class="state-title current-title">
                        📍 Week 9.2 現在の状態
                    </div>
                    
                    <div class="feature-comparison">
                        <div class="feature-item">
                            <div class="feature-title">✅ フォームバインディング</div>
                            <div class="feature-description">
                                th:object・th:fieldによる自動属性生成とデータバインディングが完成
                            </div>
                        </div>
                        
                        <div class="feature-item">
                            <div class="feature-title">✅ Controller処理</div>
                            <div class="feature-description">
                                @GetMapping・@PostMapping・@ModelAttributeによる基本的なフォーム処理
                            </div>
                        </div>
                        
                        <div class="feature-item">
                            <div class="feature-title">⚠️ エラー処理未実装</div>
                            <div class="feature-description">
                                バリデーションエラーの処理とユーザーへのフィードバックが未実装
                            </div>
                        </div>
                        
                        <div class="feature-item">
                            <div class="feature-title">⚠️ 入力検証未実装</div>
                            <div class="feature-description">
                                DTOのバリデーションアノテーションが設定されているが、実際の検証は未実装
                            </div>
                        </div>
                    </div>
                    
                    <div class="code-example">
// 現在のController実装<br>
@PostMapping("/students")<br>
public String createStudent(<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="highlight-current">@ModelAttribute</span> StudentData studentData) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;// ⚠️ バリデーション処理なし<br>
&nbsp;&nbsp;&nbsp;&nbsp;Student student = studentData.toEntity();<br>
&nbsp;&nbsp;&nbsp;&nbsp;studentService.save(student);<br>
&nbsp;&nbsp;&nbsp;&nbsp;return "redirect:/students";<br>
}
                    </div>
                </div>

                <div class="next-state">
                    <div class="state-title next-title">
                        🚀 Week 9.3 実装予定
                    </div>
                    
                    <div class="feature-comparison">
                        <div class="feature-item">
                            <div class="feature-title">🎯 Bean Validation実装</div>
                            <div class="feature-description">
                                @Validアノテーションによる自動バリデーション実行と結果処理
                            </div>
                        </div>
                        
                        <div class="feature-item">
                            <div class="feature-title">🎯 エラー表示機能</div>
                            <div class="feature-description">
                                BindingResultとThymeleafによるリアルタイムエラーメッセージ表示
                            </div>
                        </div>
                        
                        <div class="feature-item">
                            <div class="feature-title">🎯 入力値保持機能</div>
                            <div class="feature-description">
                                エラー時にユーザー入力値を自動的に復元し、再入力の手間を解消
                            </div>
                        </div>
                        
                        <div class="feature-item">
                            <div class="feature-title">🎯 カスタムバリデーション</div>
                            <div class="feature-description">
                                パスワード確認など、複数フィールドにまたがる独自検証ルールの実装
                            </div>
                        </div>
                    </div>
                    
                    <div class="code-example">
// Week 9.3 実装予定<br>
@PostMapping("/students")<br>
public String createStudent(<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="highlight-next">@Valid</span> @ModelAttribute StudentData studentData,<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="highlight-next">BindingResult</span> result, Model model) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;if (<span class="highlight-next">result.hasErrors()</span>) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return "students/form"; // エラー時は再表示<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Student student = studentData.toEntity();<br>
&nbsp;&nbsp;&nbsp;&nbsp;studentService.save(student);<br>
&nbsp;&nbsp;&nbsp;&nbsp;return "redirect:/students";<br>
}
                    </div>
                </div>
            </div>

            <div class="preparation-checklist">
                <div class="checklist-title">
                    ✅ Week 9.3への準備完了チェックリスト
                </div>
                
                <div class="checklist-items">
                    <div class="checklist-item">
                        <div class="check-icon">✓</div>
                        <div class="check-text">
                            <strong>StudentDataクラス</strong><br>
                            バリデーションアノテーションが適切に配置されている
                        </div>
                    </div>
                    
                    <div class="checklist-item">
                        <div class="check-icon">✓</div>
                        <div class="check-text">
                            <strong>Thymeleafフォーム</strong><br>
                            th:object・th:fieldによるバインディングが実装済み
                        </div>
                    </div>
                    
                    <div class="checklist-item">
                        <div class="check-icon">✓</div>
                        <div class="check-text">
                            <strong>Controller基盤</strong><br>
                            GET・POSTマッピングと@ModelAttributeが動作確認済み
                        </div>
                    </div>
                    
                    <div class="checklist-item">
                        <div class="check-icon">✓</div>
                        <div class="check-text">
                            <strong>フォームUI</strong><br>
                            レスポンシブ対応とユーザビリティ配慮が完成
                        </div>
                    </div>
                    
                    <div class="checklist-item">
                        <div class="check-icon">✓</div>
                        <div class="check-text">
                            <strong>データバインディング</strong><br>
                            フォーム送信からオブジェクト変換まで正常動作
                        </div>
                    </div>
                    
                    <div class="checklist-item">
                        <div class="check-icon">✓</div>
                        <div class="check-text">
                            <strong>MVCアーキテクチャ</strong><br>
                            双方向データフローの理解と実装が完了
                        </div>
                    </div>
                </div>
            </div>

            <div class="next-lesson-preview">
                <div class="preview-title">
                    🔮 Week 9.3 レッスンプレビュー
                </div>
                
                <div class="preview-content">
                    <div class="preview-section">
                        <div class="preview-section-title">学習内容</div>
                        <div class="code-example">
// @Validアノテーション<br>
@PostMapping("/students")<br>
public String create(<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="highlight-next">@Valid</span> @ModelAttribute StudentData data,<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="highlight-next">BindingResult</span> result) {<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;if (result.hasErrors()) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// エラー処理<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
}<br>
<br>
// Thymeleafエラー表示<br>
&lt;div <span class="highlight-next">th:if="${#fields.hasErrors('name')}"</span>&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;span <span class="highlight-next">th:errors="*{name}"</span>&gt;&lt;/span&gt;<br>
&lt;/div&gt;
                        </div>
                    </div>
                    
                    <div class="preview-section">
                        <div class="preview-section-title">習得技術</div>
                        <ul style="font-size: 14px; color: #2c3e50; margin: 0; padding-left: 20px;">
                            <li><strong>@Valid</strong>: 自動バリデーション実行</li>
                            <li><strong>BindingResult</strong>: エラー情報の取得</li>
                            <li><strong>th:errors</strong>: エラーメッセージ表示</li>
                            <li><strong>#fields</strong>: フィールドエラー判定</li>
                            <li><strong>カスタムValidator</strong>: 独自検証ルール</li>
                            <li><strong>国際化対応</strong>: メッセージの多言語化</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="motivation-section">
                <div class="motivation-title">
                    🎓 学習者への期待とモチベーション
                </div>
                <div class="motivation-text">
                    Week 9.2でThymeleafフォーム技術を完全習得したあなたは、もうすでに<span class="highlight-motivation">実用的なWebフォーム</span>を作成できるレベルに到達しています。<br><br>
                    
                    Week 9.3では、この技術基盤の上に<span class="highlight-motivation">Bean Validation</span>による高度なエラー処理機能を追加します。これにより、あなたが作成するWebアプリケーションは<span class="highlight-motivation">プロダクションレベル</span>の品質に到達し、実際の業務で使用できる堅牢なシステムとなります。<br><br>
                    
                    バリデーション機能の実装により、ユーザー体験は劇的に向上し、<span class="highlight-motivation">「このシステム、とても使いやすい！」</span>とユーザーから評価される高品質なWebアプリケーションを開発できるようになります。
                </div>
            </div>
        </div>
    </div>
</body>
</html>